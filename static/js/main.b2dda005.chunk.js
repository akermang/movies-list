(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,n){e.exports=n(331)},201:function(e,t,n){},202:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(15),o=n.n(r),l=(n(201),n(33)),c=n(34),s=n(36),u=n(35),d=n(37),m=(n(202),function(e){return fetch("https://cors-anywhere.herokuapp.com/http://www.omdbapi.com/?"+e).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong ...")})}),h=n(17),v=function(e,t){for(var n in e)if(""===(a=e[n])||"string"!==typeof a)return"please fill in the ".concat(n," field");var a,i=function(e){var t=(new Date).getFullYear();return e/e!==1?"Year is not proper. Please Enter Numeric Values Only":4!==e.toString().length?"Year should be 4 digit like: `2016`. Please check":e<1920||e>t?"Year should be in between 1920 to.. ".concat(t):void 0}(e.Year);if(i)return i;var r=function(e,t){for(var n=0;n<t.length;n++)if(t[n].Title===e.Title&&t[n].imdbID!==e.imdbID)return"same movie title is already exist"}(e,t);return r||!0},f=n(19),p=n.n(f),E=n(21),b=n.n(E),g=n(28),y=n.n(g),k=n(32),M=n.n(k),S=n(30),C=n.n(S),D=n(31),w=n.n(D),O=n(29),j=n.n(O),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={open:n.props.open,editMovie:n.props.editMovie,title:n.props.editMovie.Title||"",year:n.props.editMovie.Year||"",runtime:n.props.editMovie.Runtime||"",genre:n.props.editMovie.Genre||"",director:n.props.editMovie.Director||""},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1}),this.props.onCencel()}},{key:"handleSave",value:function(){var e=this.state,t=e.editMovie,n=e.title,a=e.year,i=e.runtime,r=e.genre,o=e.director,l={imdbID:t.imdbID,Title:n,Year:a,Runtime:i,Genre:r,Director:o};this.props.onSave(l)}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.year,r=t.runtime,o=t.genre,l=t.director,c=this.props.message;return i.a.createElement("div",null,i.a.createElement(y.a,{open:this.state.open,onClose:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},i.a.createElement(j.a,{id:"form-dialog-title"},"movie info"),i.a.createElement(C.a,null,i.a.createElement(w.a,{style:{textAlign:"center"},color:"secondary"},c),i.a.createElement(b.a,{autoFocus:!0,margin:"dense",label:"Title",type:"text",value:n,fullWidth:!0,onChange:function(t){return e.setState({title:t.target.value})}}),i.a.createElement(b.a,{margin:"dense",label:"Year",type:"text",value:a,fullWidth:!0,onChange:function(t){return e.setState({year:t.target.value})}}),i.a.createElement(b.a,{margin:"dense",label:"Runtime",type:"text",value:r,fullWidth:!0,onChange:function(t){return e.setState({runtime:t.target.value})}}),i.a.createElement(b.a,{margin:"dense",label:"Genre",type:"text",value:o,fullWidth:!0,onChange:function(t){return e.setState({genre:t.target.value})}}),i.a.createElement(b.a,{margin:"dense",label:"Director",type:"text",value:l,fullWidth:!0,onChange:function(t){return e.setState({director:t.target.value})}})),i.a.createElement(M.a,null,i.a.createElement(p.a,{onClick:function(){return e.handleClose()},color:"primary"},"Cancel"),i.a.createElement(p.a,{onClick:function(){return e.handleSave()},color:"secondary"},"Save"))))}}]),t}(i.a.Component),I=n(121),x=n.n(I),T=n(123),Y=n.n(T),L=n(122),A=n.n(L),W=n(120),G=n.n(W),R=function(e){var t=e.noCancel,n=e.onAction,a=e.title,r=e.text,o=e.open;return i.a.createElement("div",{className:"modal-component"},i.a.createElement(y.a,{open:o,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(j.a,{id:"alert-dialog-title"},a),i.a.createElement(C.a,null,i.a.createElement(w.a,{id:"alert-dialog-description"},r)),i.a.createElement(M.a,null,i.a.createElement(p.a,{onClick:t,color:"primary"},"cancel"),i.a.createElement(p.a,{onClick:function(){return n()},color:"secondary",autoFocus:!0},"ok"))))},F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!1,list:[],editMovie:null,isEditMode:!1,message:null,openEdit:!1,openModal:!1,selectedMovie:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.setState({isLoading:!0}),m("y=2019&s=love&apikey=c8cdce26").then(function(t){return t.Search.forEach(function(t){m("i=".concat(t.imdbID,"&apikey=c8cdce26")).then(function(t){var n=function(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/[^a-zA-Z ]/g,"")}).join(" ")}(t.Title);t.Title=n;var a=e.state.list;a.push(t),e.setState({list:a,isLoading:!1})})})}).catch(function(t){return e.setState({error:t,isLoading:!1})})}},{key:"onEdit",value:function(e){this.setState({editMovie:e}),this.setState({isEditMode:!0}),this.setState({openEdit:!0})}},{key:"cancelEdit",value:function(){this.setState({message:null}),this.setState({isEditMode:!1})}},{key:"updateList",value:function(e){var t=this.state.list,n=t.find(function(t){return t.imdbID===e.imdbID}),a=t.indexOf(n);-1===a?t.unshift(e):t.splice(a,1,e),this.setState({list:t})}},{key:"removeMovieFromList",value:function(e){var t=this.state.list,n=t.find(function(t){return t.imdbID===e.imdbID}),a=t.indexOf(n);a>=0?t.splice(a,1):e={},this.setState({list:t})}},{key:"saveEdit",value:function(e){if(function(e,t){return e.Title===t.Title&&e.Year===t.Year&&e.Runtime===t.Runtime&&e.Genre===t.Genre&&e.Director===t.Director}(e,this.state.editMovie))this.cancelEdit();else{var t=v(e,this.state.list);if(!0===t)return this.updateList(e),this.setState({message:null}),void this.cancelEdit();this.setState({message:t})}}},{key:"handleAddNew",value:function(){var e={imdbID:G()()};this.setState({editMovie:e}),this.setState({isEditMode:!0}),this.setState({openEdit:!0})}},{key:"handleDelete",value:function(e){this.setState({selectedMovie:e}),this.setState({openModal:!0})}},{key:"deleteMovie",value:function(e){this.removeMovieFromList(e),this.setState({selectedMovie:{}}),this.setState({openModal:!1})}},{key:"canselDelete",value:function(){this.setState({openModal:!1}),this.setState({selectedMovie:{}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.list,a=t.isLoading,r=t.editMovie,o=t.isEditMode,l=t.message,c=t.openEdit,s=t.selectedMovie;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"main-container"},a?i.a.createElement("div",{className:"loader"},i.a.createElement(h.a,{disableShrink:!0}),"."):null,i.a.createElement(R,{noCancel:function(){return e.canselDelete()},onAction:function(){return e.deleteMovie(s)},title:s?"delete: ".concat(s.Title,"..?"):null,text:s?"are you ok with it?":null,open:this.state.openModal}),o&&i.a.createElement(N,{editMovie:r,open:c,onCencel:function(){return e.cancelEdit()},onSave:function(t){return e.saveEdit(t)},message:l}),i.a.createElement(h.b,{className:"fab add-fab",size:"medium",color:"primary","aria-label":"Add",style:{backgroundColor:"green"}},i.a.createElement(x.a,{onClick:function(){return e.handleAddNew()}})),i.a.createElement(h.c,{className:"movies-list"},n.map(function(t){return i.a.createElement(h.d,{className:"list-item",key:t.imdbID},i.a.createElement(h.f,{primary:"".concat(t.Title,"  | ").concat(t.Year),secondary:"\n                  ".concat(t.Runtime," |\n                  ").concat(t.Genre," |\n                  Director: ").concat(t.Director," |\n                  ").concat(t.imdbID)}),i.a.createElement(h.e,{button:"true",onClick:function(){return e.handleDelete(t)}},i.a.createElement(h.b,{size:"small",color:"primary","aria-label":"Delete",className:"fab delete-fab",style:{backgroundColor:"#af3a3a"}},i.a.createElement(A.a,null))),i.a.createElement(h.e,{button:"true",onClick:function(){return e.onEdit(t)}},i.a.createElement(h.b,{size:"small",color:"primary","aria-label":"Edit",className:"fab"},i.a.createElement(Y.a,null))))}))))}}]),t}(a.Component),z=function(){return i.a.createElement("div",{className:"header-component"},"My Movies list")},B=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(z,null),i.a.createElement(F,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,1,2]]]);
//# sourceMappingURL=main.b2dda005.chunk.js.map